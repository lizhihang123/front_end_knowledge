<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>怎样获取数组中最多的元素</title>
  </head>
  <body>
    <script>
      //   function fn(arr) {
      //     if (!arr.length) return;
      //     if (arr.length === 1) return 1;
      //     var result = {};
      //     for (var i = 0; i < arr.length; i++) {
      //       if (!result[arr[i]]) {
      //         result[arr[i]] = 1;
      //       } else {
      //         result[arr[i]]++;
      //       }
      //     }
      //     var keys = Object.keys(result);
      //     var maxNum = 0,
      //       maxElement;

      //     for (var i = 0; i < keys.length; i++) {
      //       if (result[keys[i]] > maxNum) {
      //         maxNum = result[keys[i]];
      //         maxElement = keys[i];
      //       }
      //     }
      //     return (
      //       "在数组中出现最多的元素是" + maxElement + ",共出现了" + maxNum + "次"
      //     );
      //   }
      function fn(array) {
        var result = {};
        var maxNum = 0;
        var maxElement = null;
        for (var i = 0; i < array.length; i++) {
          var val = array[i];
          result[val] === undefined ? (result[val] = 1) : result[val]++;
          if (result[val] > maxNum) {
            maxNum = result[val];
            maxElement = val;
          }
        }
        return (
          "在数组中出现最多的元素是" + maxElement + ",共出现了" + maxNum + "次"
        );
      }
      var array = [1, 2, 3, 3, 3, 3, 3, 6, 6, 6, 7, 8, 0];
      console.log(fn(array));
    </script>
  </body>
</html>
