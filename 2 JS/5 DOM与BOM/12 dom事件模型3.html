<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <div id="btn">
        123
        <div id="btn2">
            456
        </div>
    </div>
    <button id="btn1">点击触发</button>
    <script>
        let customEvent
        (function () {
            if (document.implementation.hasFeature('CustomEvents', '3.0')) {
                let user = {
                    userName: 'zhangsan'
                }
                customEvent = document.createEvent('CustomEvent')
                /* 
                myEvent - 事件类型
                true - 是否应该冒泡
                false - 标志事件是否可以取消
                detail - user - 把这个值存储到 e.detail里面去
                */
                customEvent.initCustomEvent('myEvent', true, false, user)
            }
        })()

        let div1 = document.getElementById('btn')
        div1.addEventListener('myEvent', function (e) {
            console.log(e.detail.userName);
        })
        btn1.addEventListener('click', function (e) {
            div1.dispatchEvent(customEvent)
        }) 
    </script>
</body>

</html>